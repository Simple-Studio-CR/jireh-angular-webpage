"use strict";(self.webpackChunkdemo2=self.webpackChunkdemo2||[]).push([[505],{7136:(T,f,a)=>{a.d(f,{w:()=>m});var o=a(5e3);let m=(()=>{class l{constructor(){this.class="menu menu-sub menu-sub-dropdown menu-column menu-rounded menu-gray-600 menu-state-bg-light-primary fw-bold w-200px",this.dataKtMenu="true"}ngOnInit(){}}return l.\u0275fac=function(c){return new(c||l)},l.\u0275cmp=o.Xpm({type:l,selectors:[["app-dropdown-menu2"]],hostVars:3,hostBindings:function(c,p){2&c&&(o.uIk("data-kt-menu",p.dataKtMenu),o.Tol(p.class))},decls:33,vars:0,consts:[[1,"menu-item","px-3"],[1,"menu-content","fs-6","text-dark","fw-bolder","px-3","py-4"],[1,"separator","mb-3","opacity-75"],[1,"menu-link","px-3","cursor-pointer"],["data-kt-menu-trigger","hover","data-kt-menu-placement","right-start","data-kt-menu-flip","left-start, top",1,"menu-item","px-3"],[1,"menu-title"],[1,"menu-arrow"],[1,"menu-sub","menu-sub-dropdown","w-175px","py-4"],[1,"separator","mt-3","opacity-75"],[1,"menu-content","px-3","py-3"],[1,"btn","btn-primary","btn-sm","px-4","cursor-pointer"]],template:function(c,p){1&c&&(o.TgZ(0,"div",0)(1,"div",1),o._uU(2," Quick Actions "),o.qZA()(),o._UZ(3,"div",2),o.TgZ(4,"div",0)(5,"a",3),o._uU(6," New Ticket "),o.qZA()(),o.TgZ(7,"div",0)(8,"a",3),o._uU(9," New Customer "),o.qZA()(),o.TgZ(10,"div",4)(11,"a",3)(12,"span",5),o._uU(13,"New Group"),o.qZA(),o._UZ(14,"span",6),o.qZA(),o.TgZ(15,"div",7)(16,"div",0)(17,"a",3),o._uU(18," Admin Group "),o.qZA()(),o.TgZ(19,"div",0)(20,"a",3),o._uU(21," Staff Group "),o.qZA()(),o.TgZ(22,"div",0)(23,"a",3),o._uU(24," Member Group "),o.qZA()()()(),o.TgZ(25,"div",0)(26,"a",3),o._uU(27," New Contact "),o.qZA()(),o._UZ(28,"div",8),o.TgZ(29,"div",0)(30,"div",9)(31,"a",10),o._uU(32," Generate Reports "),o.qZA()()())},encapsulation:2}),l})()},505:(T,f,a)=>{a.r(f),a.d(f,{ItemsModule:()=>M});var o=a(9808),m=a(4521),l=a(8915),g=a(7292),c=a(5057),p=a(6298),t=a(5e3),v=a(9531),Z=a(4563),I=a(89),U=a(7136),C=a(7232);function A(n,r){1&n&&(t.TgZ(0,"button",27),t._UZ(1,"i",28),t._uU(2," Crear "),t.qZA())}function w(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"tr")(1,"td")(2,"a",29),t._uU(3),t.qZA(),t.TgZ(4,"span",30),t._uU(5),t.qZA()(),t.TgZ(6,"td")(7,"a",29),t._uU(8),t.qZA(),t.TgZ(9,"span",30),t._uU(10),t.qZA()(),t.TgZ(11,"td")(12,"div",31)(13,"button",32),t.NdJ("click",function(){const u=t.CHM(e).$implicit,h=t.oxw();return t.KtG(h.clickEnterClient(u.id))}),t._UZ(14,"i",33),t.qZA()()()()}if(2&n){const e=r.$implicit;t.xp6(3),t.hij(" ",e.name," "),t.xp6(2),t.hij(" ",e.activeingredient," "),t.xp6(3),t.hij(" ",e.sanitaryPermission," "),t.xp6(2),t.hij(" ",e.features," ")}}const x=function(){return[5,10,25,100]};let y=(()=>{class n{constructor(e,i,d,u,h){this.service=e,this.authHttpService=i,this.authService=d,this.router=u,this.cd=h,this.title="Productos",this.totalRegister=0,this.pageNo=0,this.pageSize=10,this.edit=!1}ngOnInit(){sessionStorage.removeItem("productId"),this.rangePage()}clickEnterIssuing(e){sessionStorage.setItem("emisorId",e),this.router.navigate(["/issuing/branch"])}paginator(e){this.pageNo=e.pageIndex,this.pageSize=e.pageSize,this.rangePage()}rangePage(){this.service.listAll().subscribe(e=>{this.product=e,this.cd.detectChanges()})}newClient(){this.router.navigate(["/items/view"])}clickEnterClient(e){sessionStorage.setItem("productId",e),this.router.navigate(["/items/view"])}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(v.s),t.Y36(Z.U),t.Y36(I.e8),t.Y36(m.F0),t.Y36(t.sBO))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-items"]],decls:40,vars:11,consts:[[1,"card","mb-10"],[1,"card-body","d-flex","align-items-center","py-8"],[1,"d-flex","h-80px","w-80px","flex-shrink-0","flex-center","position-relative"],["src","assets/media/icons/duotune/coding/cod010.svg",1,"h-40px","me-10"],[1,"ms-6"],[1,"list-unstyled","text-gray-600","fw-bold","fs-6","p-0","m-0"],["class","btn btn-primary","routerLink","/items/view",4,"ngIf"],[1,"col-1"],["routerLink","/dashboard",1,"btn","btn-warning","margin-left"],["data-placement","top","data-toggle","tooltip",1,"fas","fa-arrow-left"],[1,"card","card-custom"],[1,"card-header","card-header-stretch","overflow-auto"],[1,"card-header","border-0","pt-5"],[1,"card-title","align-items-start","flex-column"],[1,"card-label","fw-bolder","fs-3","mb-1"],[1,"text-muted","mt-1","fw-bold","fs-7"],[1,"card-toolbar"],["data-kt-menu-flip","top-end","data-kt-menu-placement","bottom-end","data-kt-menu-trigger","click","type","button",1,"btn","btn-sm","btn-icon","btn-color-primary","btn-active-light-primary"],[1,"svg-icon","svg-icon-2",3,"inlineSVG"],[1,"card-body","py-3"],[1,"table-responsive"],[1,"table","table-row-dashed","table-striped","table-row-gray-300","align-middle","gs-0","gy-4"],[1,"fw-bolder","text-muted"],[1,"mb-1"],[1,"mb-1","text-end"],[4,"ngFor","ngForOf"],["showFirstLastButtons","",1,"float-left","mx-2",3,"length","pageIndex","pageSizeOptions","pageSize","page"],["routerLink","/items/view",1,"btn","btn-primary"],["data-placement","top","data-toggle","tooltip",1,"fas","fa-plus"],[1,"text-dark","fw-bolder","text-hover-primary","d-block","fs-6"],[1,"text-muted","fw-bold","text-muted","d-block","fs-7"],[1,"d-flex","justify-content-end","flex-shrink-0"],["type","submit",1,"btn","btn-warning",3,"click"],["data-placement","top","data-toggle","tooltip",1,"fas","fa-edit"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t._UZ(3,"img",3),t.qZA(),t.TgZ(4,"div",4)(5,"p",5),t._uU(6),t.ALo(7,"translate"),t.qZA(),t.YNc(8,A,3,0,"button",6),t._UZ(9,"a",7),t.TgZ(10,"button",8),t._UZ(11,"i",9),t._uU(12," Volver "),t.qZA()()()(),t.TgZ(13,"div",10)(14,"div",11)(15,"div",12)(16,"h3",13)(17,"span",14),t._uU(18,"Listado de Productos"),t.qZA(),t.TgZ(19,"span",15),t._uU(20,"Registrados en el Sistema"),t.qZA()(),t.TgZ(21,"div",16)(22,"button",17),t._UZ(23,"span",18),t.qZA(),t._UZ(24,"app-dropdown-menu2"),t.qZA()(),t.TgZ(25,"div",19)(26,"div",20)(27,"table",21)(28,"thead")(29,"tr",22)(30,"th",23),t._uU(31,"Info"),t.qZA(),t.TgZ(32,"th",23),t._uU(33,"Permiso Sanitario"),t.qZA(),t.TgZ(34,"th",24),t._uU(35,"Editar"),t.qZA()()(),t.TgZ(36,"tbody"),t.YNc(37,w,15,4,"tr",25),t.qZA()(),t.TgZ(38,"mat-paginator",26),t.NdJ("page",function(u){return i.paginator(u)}),t._uU(39,' aria-label="Select page"> '),t.qZA()()()()()),2&e&&(t.xp6(6),t.hij(" ",t.lcZ(7,8,"DASHBOARD.ICONS.ITEMS")," "),t.xp6(2),t.Q6J("ngIf",i.authHttpService.hasRole("ROLE_ADMIN")),t.xp6(15),t.Q6J("inlineSVG","./assets/media/icons/duotune/general/gen024.svg"),t.xp6(14),t.Q6J("ngForOf",i.product),t.xp6(1),t.Q6J("length",i.totalRegister)("pageIndex",i.pageNo)("pageSizeOptions",t.DdM(10,x))("pageSize",i.pageSize))},dependencies:[o.sg,o.O5,m.rH,c.NW,p.d$,U.w,C.X$]}),n})();var s=a(3075),N=a(5226),_=a.n(N);function F(n,r){1&n&&(t.TgZ(0,"div",40),t._uU(1," Cliente guardado exitosamente. "),t.qZA())}function S(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"button",41),t.NdJ("click",function(){t.CHM(e);const d=t.oxw();return t.KtG(d.enableEdit())}),t._uU(1," Editar "),t.qZA()}}function q(n,r){if(1&n&&(t.TgZ(0,"button",42),t._uU(1," Guardar "),t.qZA()),2&n){const e=t.oxw();t.Q6J("disabled",e.isUpdating)}}function P(n,r){if(1&n&&(t.TgZ(0,"button",42),t._uU(1," Guardar "),t.qZA()),2&n){const e=t.oxw();t.Q6J("disabled",e.isUpdating)}}const E=function(n){return{"margin-left":n}},J=function(n){return{color:n}};var b=(()=>{return(n=b||(b={}))[n.PRODUCT=0]="PRODUCT",b;var n})();let k=(()=>{class n{constructor(e,i,d,u){this.service=e,this.authService=i,this.router=d,this.cd=u,this.title="Nuevo Producto",this.productTabsEnum=b,this.activeTab=this.productTabsEnum.PRODUCT,this.isUpdating=!1,this.isEditing=!1,this.isNew=!1}ngOnInit(){this.productForm=new s.cw({id:new s.NI(""),name:new s.NI(""),sanitaryPermission:new s.NI(""),features:new s.NI(""),activeingredient:new s.NI(""),labelColor:new s.NI(""),dose:new s.NI("")}),sessionStorage.getItem("productId")||this.createProduct(),sessionStorage.getItem("productId")&&this.editProduct()}setActiveTab(e){this.activeTab=e}onProductUpdate(){this.isEditing&&!this.isNew&&(this.isUpdating=!0,console.log("client update",this.productForm.value),this.service.updateClient(this.productForm.value).subscribe(e=>{this.editedProduct=e,this.isUpdating=!1,_().fire("Correcto",`Se guard\xf3 el producto ${this.editedProduct.name}`,"success"),this.isEditing=!1,this.cd.detectChanges()})),this.isEditing&&this.isNew&&this.service.save(this.productForm.value).subscribe(e=>{this.editedProduct=e.product,console.log(this.editedProduct),this.isUpdating=!1,this.isNew=!1,this.isEditing=!1,sessionStorage.setItem("productId",this.editedProduct.id),_().fire("Correcto",`Se guard\xf3 el producto ${this.editedProduct.name}`,"success"),this.router.navigate(["/items/view"])})}enableEdit(){this.isEditing=!0}isNewProduct(){this.isNew=!0}back(){sessionStorage.removeItem("productId"),this.router.navigate(["/items"])}editProduct(){let e=sessionStorage.getItem("productId");this.service.findById(e).subscribe(i=>{console.log("clients",i),this.productForm.setValue(i)})}createProduct(){this.isNewProduct(),this.enableEdit()}colorLabel(){return this.productForm.controls.labelColor.valueChanges.subscribe(e=>(this.color=e,this.cd.detectChanges(),console.log(this.color),this.color)),this.color}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(v.s),t.Y36(Z.U),t.Y36(m.F0),t.Y36(t.sBO))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-form-items"]],decls:66,vars:18,consts:[[1,"card","bg-light","mb-3"],[1,"page_title_section"],[1,"page_title_overlay"],[1,"page_header","text-center"],[1,"container"],[1,"row"],[1,"col-lg-12","col-md-12","col-12","col-sm-12"],[1,"page_header_line"],[1,"pst_bottompadder30"],[1,"sp_choose_main_wrapper"],[1,"card-body"],["class","alert alert-success",4,"ngIf"],["class","btn btn-warning mr-2 col-2",3,"click",4,"ngIf"],["form","clientForm","type","submit","class","btn btn-success col-2",3,"disabled",4,"ngIf"],[1,"btn","btn-primary","col-2",3,"ngClass","click"],[1,"mt-3"],["id","pills-tab","role","tablist",1,"nav","nav-pills","mb-3"],["role","presentation",1,"nav-item"],["id","client-data-tab","data-bs-toggle","pill","data-bs-target","#client-data","type","button","role","tab","aria-controls","client-data","aria-selected","true",1,"nav-link","active"],["id","clientForm",3,"formGroup","ngSubmit"],[3,"disabled"],["id","pills-tabContent",1,"tab-content"],["id","client-data","role","tabpanel","aria-labelledby","client-data-tab",1,"tab-pane","fade","show","active"],[1,"row","p-t-20"],[1,"col-md-6"],["for","name",1,"form-label"],["type","text","id","name","formControlName","name","maxlength","80",1,"form-control"],["for","activeingredient",1,"form-label"],["type","text","id","activeingredient","formControlName","activeingredient",1,"form-control"],[1,"col-md-12"],["for","features",1,"form-label"],["type","text","id","features","rows","8","formControlName","features",1,"form-control"],[1,"col-md-3"],["for","sanitaryPermission",1,"form-label"],["type","text","id","sanitaryPermission","formControlName","sanitaryPermission",1,"form-control"],["for","labelColor",1,"form-label"],["type","text","id","labelColor","formControlName","labelColor",1,"form-select",3,"ngStyle"],[3,"ngValue"],["for","dose",1,"form-label"],["type","text","id","dose","formControlName","dose",1,"form-control"],[1,"alert","alert-success"],[1,"btn","btn-warning","mr-2","col-2",3,"click"],["form","clientForm","type","submit",1,"btn","btn-success","col-2",3,"disabled"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"div",1),t._UZ(2,"div",2),t.TgZ(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"h1",8)(9,"span"),t._uU(10),t.qZA()()()()()()()()(),t.TgZ(11,"div",0)(12,"div",9)(13,"div",4)(14,"div",5)(15,"div",10),t.YNc(16,F,2,0,"div",11),t.YNc(17,S,2,0,"button",12),t.YNc(18,q,2,1,"button",13),t.YNc(19,P,2,1,"button",13),t.TgZ(20,"button",14),t.NdJ("click",function(){return i.back()}),t._uU(21," Volver "),t.qZA(),t.TgZ(22,"div",15)(23,"ul",16)(24,"li",17)(25,"button",18),t._uU(26," Datos "),t.qZA()()(),t.TgZ(27,"form",19),t.NdJ("ngSubmit",function(){return i.onProductUpdate()}),t.TgZ(28,"fieldset",20)(29,"div",21)(30,"div",22)(31,"div",23)(32,"div",24)(33,"label",25),t._uU(34,"Nombre"),t.qZA(),t._UZ(35,"input",26),t.qZA(),t.TgZ(36,"div",24)(37,"label",27),t._uU(38,"Producto Activo"),t.qZA(),t._UZ(39,"input",28),t.qZA(),t.TgZ(40,"div",29)(41,"label",30),t._uU(42,"Caracteristicas"),t.qZA(),t._UZ(43,"textarea",31),t.qZA(),t.TgZ(44,"div",32)(45,"label",33),t._uU(46,"Permiso Sanitario"),t.qZA(),t._UZ(47,"input",34),t.qZA(),t.TgZ(48,"div",32)(49,"label",35),t._uU(50,"Color de la etiqueta"),t.qZA(),t.TgZ(51,"select",36)(52,"option",37),t._uU(53,"Seleccione el color de la etiqueta"),t.qZA(),t.TgZ(54,"option",37),t._uU(55,"Verde"),t.qZA(),t.TgZ(56,"option",37),t._uU(57,"Azul"),t.qZA(),t.TgZ(58,"option",37),t._uU(59,"Amarilla"),t.qZA(),t.TgZ(60,"option",37),t._uU(61,"Roja"),t.qZA()()(),t.TgZ(62,"div",32)(63,"label",38),t._uU(64,"Dosis"),t.qZA(),t._UZ(65,"input",39),t.qZA()()()()()()()()()()()()),2&e&&(t.xp6(10),t.Oqu(i.title),t.xp6(6),t.Q6J("ngIf",i.editedProduct),t.xp6(1),t.Q6J("ngIf",i.authService.hasRole("ROLE_ADMIN")&&!i.isEditing),t.xp6(1),t.Q6J("ngIf",i.isEditing&&!i.isNew),t.xp6(1),t.Q6J("ngIf",i.isEditing&&i.isNew),t.xp6(1),t.Q6J("ngClass",t.VKq(14,E,i.authService.hasRole("ROLE_ADMIN"))),t.xp6(7),t.Q6J("formGroup",i.productForm),t.xp6(1),t.Q6J("disabled",!i.isEditing),t.xp6(23),t.Q6J("ngStyle",t.VKq(16,J,i.colorLabel())),t.xp6(1),t.Q6J("ngValue",null),t.xp6(2),t.Q6J("ngValue","#2C891F"),t.xp6(2),t.Q6J("ngValue","#0032FF"),t.xp6(2),t.Q6J("ngValue","#FFF700"),t.xp6(2),t.Q6J("ngValue","#FF2D00"))},dependencies:[o.mk,o.O5,o.PC,s._Y,s.YN,s.Kr,s.Fj,s.EJ,s.JJ,s.JL,s.nD,s.sg,s.u]}),n})();var O=a(5802);let M=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[o.ez,m.Bz.forChild([{path:"",component:y},{path:"view",component:k}]),l.HB,g.q,c.TU,p.vi,l.QX,O.IJ,s.u5,s.UX]}),n})()}}]);