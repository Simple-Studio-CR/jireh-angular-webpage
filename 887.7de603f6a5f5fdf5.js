"use strict";(self.webpackChunkdemo2=self.webpackChunkdemo2||[]).push([[887],{7136:(Z,m,o)=>{o.d(m,{w:()=>p});var n=o(5e3);let p=(()=>{class l{constructor(){this.class="menu menu-sub menu-sub-dropdown menu-column menu-rounded menu-gray-600 menu-state-bg-light-primary fw-bold w-200px",this.dataKtMenu="true"}ngOnInit(){}}return l.\u0275fac=function(u){return new(u||l)},l.\u0275cmp=n.Xpm({type:l,selectors:[["app-dropdown-menu2"]],hostVars:3,hostBindings:function(u,d){2&u&&(n.uIk("data-kt-menu",d.dataKtMenu),n.Tol(d.class))},decls:33,vars:0,consts:[[1,"menu-item","px-3"],[1,"menu-content","fs-6","text-dark","fw-bolder","px-3","py-4"],[1,"separator","mb-3","opacity-75"],[1,"menu-link","px-3","cursor-pointer"],["data-kt-menu-trigger","hover","data-kt-menu-placement","right-start","data-kt-menu-flip","left-start, top",1,"menu-item","px-3"],[1,"menu-title"],[1,"menu-arrow"],[1,"menu-sub","menu-sub-dropdown","w-175px","py-4"],[1,"separator","mt-3","opacity-75"],[1,"menu-content","px-3","py-3"],[1,"btn","btn-primary","btn-sm","px-4","cursor-pointer"]],template:function(u,d){1&u&&(n.TgZ(0,"div",0)(1,"div",1),n._uU(2," Quick Actions "),n.qZA()(),n._UZ(3,"div",2),n.TgZ(4,"div",0)(5,"a",3),n._uU(6," New Ticket "),n.qZA()(),n.TgZ(7,"div",0)(8,"a",3),n._uU(9," New Customer "),n.qZA()(),n.TgZ(10,"div",4)(11,"a",3)(12,"span",5),n._uU(13,"New Group"),n.qZA(),n._UZ(14,"span",6),n.qZA(),n.TgZ(15,"div",7)(16,"div",0)(17,"a",3),n._uU(18," Admin Group "),n.qZA()(),n.TgZ(19,"div",0)(20,"a",3),n._uU(21," Staff Group "),n.qZA()(),n.TgZ(22,"div",0)(23,"a",3),n._uU(24," Member Group "),n.qZA()()()(),n.TgZ(25,"div",0)(26,"a",3),n._uU(27," New Contact "),n.qZA()(),n._UZ(28,"div",8),n.TgZ(29,"div",0)(30,"div",9)(31,"a",10),n._uU(32," Generate Reports "),n.qZA()()())},encapsulation:2}),l})()},1887:(Z,m,o)=>{o.r(m),o.d(m,{IssuingModule:()=>U});var n=o(9808),p=o(4521),l=o(8915),t=o(5e3),u=o(2843),d=o(7556),h=o(262),b=o(520),v=o(89),I=o(7560);let A=(()=>{class s{constructor(e,i,r,a){this.http=e,this.authService=i,this.router=r,this.variables=a}listAll(e,i){let r=sessionStorage.getItem("userName");return this.http.get(this.variables.getServicingEndpoint()+"/emisor/"+r+"/"+e+"/"+i,{headers:this.variables.getAuthHeader()}).pipe((0,h.K)(a=>(d.t.notAllowed(a),(0,u._)(a))))}findRoles(e){let i=sessionStorage.getItem("userName");return this.http.get(this.variables.getServicingEndpoint()+"/emisor/auth/"+i+"/"+e,{headers:this.variables.getAuthHeader()}).pipe((0,h.K)(r=>(d.t.notAllowed(r),(0,u._)(r))))}save(e){return this.http.post(this.variables.getServicingEndpoint()+"/emisor/save/v2",e,{headers:this.variables.getAuthHeader()}).pipe((0,h.K)(i=>(d.t.notAllowed(i),(0,u._)(i))))}findById(e){return this.http.get(this.variables.getServicingEndpoint()+"/emisor/get-for-/"+e,{headers:this.variables.getAuthHeader()}).pipe((0,h.K)(i=>(d.t.notAllowed(i),(0,u._)(i))))}}return s.\u0275fac=function(e){return new(e||s)(t.LFG(b.eN),t.LFG(v.e8),t.LFG(p.F0),t.LFG(I.E))},s.\u0275prov=t.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();var _=o(7136),f=o(6298),x=o(5057),T=o(7232);function C(s,g){if(1&s){const e=t.EpF();t.TgZ(0,"tr")(1,"td")(2,"div",25)(3,"div",26)(4,"span",27),t._UZ(5,"img",28),t.qZA()(),t.TgZ(6,"div",29)(7,"a",30),t.NdJ("click",function(){const a=t.CHM(e).$implicit,c=t.oxw();return t.KtG(c.clickEnterIssuing(a.id))}),t._uU(8),t.qZA(),t.TgZ(9,"span",31),t._uU(10),t.qZA()()()(),t.TgZ(11,"td")(12,"a",32),t.NdJ("click",function(){const a=t.CHM(e).$implicit,c=t.oxw();return t.KtG(c.clickEnterIssuing(a.id))}),t._uU(13),t.qZA(),t.TgZ(14,"span",31),t._uU(15),t.qZA()(),t.TgZ(16,"td")(17,"a",32),t.NdJ("click",function(){const a=t.CHM(e).$implicit,c=t.oxw();return t.KtG(c.clickEnterIssuing(a.id))}),t._uU(18),t.qZA(),t.TgZ(19,"span",31),t._uU(20),t.qZA()(),t.TgZ(21,"td")(22,"a",32),t.NdJ("click",function(){const a=t.CHM(e).$implicit,c=t.oxw();return t.KtG(c.clickEnterIssuing(a.id))}),t._uU(23),t.qZA(),t.TgZ(24,"span",31),t._uU(25),t.qZA()(),t.TgZ(26,"td")(27,"a",33),t.NdJ("click",function(){const a=t.CHM(e).$implicit,c=t.oxw();return t.KtG(c.clickEnterIssuing(a.id))}),t._uU(28," Ingresar "),t.qZA(),t.TgZ(29,"a",34),t.NdJ("click",function(){const a=t.CHM(e).$implicit,c=t.oxw();return t.KtG(c.newIssuing(a.id,!0))}),t._uU(30," Editar "),t.qZA()()()}if(2&s){const e=g.$implicit;t.xp6(8),t.hij(" ",e.commercialName," "),t.xp6(2),t.hij(" ",e.socialReasonName," "),t.xp6(3),t.hij(" ",e.email," "),t.xp6(2),t.Oqu(e.phone),t.xp6(3),t.hij(" ",e.identification," "),t.xp6(2),t.Oqu(e.identificationType.identificationType),t.xp6(3),t.hij(" ",e.province.province," "),t.xp6(2),t.Oqu(e.addressDetails)}}const w=function(){return[5,10,25,100]};let y=(()=>{class s{constructor(e,i,r){this.service=e,this.authService=i,this.router=r,this.edit=!1,this.addIssuing="Agregar una nueva empresa",this.totalRegister=0,this.pageNo=0,this.pageSize=10}ngOnInit(){this.rangePage(),sessionStorage.removeItem("newIssuing"),sessionStorage.removeItem("editIssuing")}clickEnterIssuing(e){sessionStorage.setItem("emisorId",String(e)),this.router.navigate(["branch"])}paginator(e){this.pageNo=e.pageIndex,this.pageSize=e.pageSize,this.rangePage()}rangePage(){this.service.listAll(this.pageNo+1,this.pageSize).subscribe(e=>{this.issuings=e.content,this.totalRegister=e.totalElements;for(let i=0;i<this.totalRegister;i++)this.service.findRoles(this.issuings[i].id).subscribe(r=>{this.province=this.issuings[i].province,console.log(this.province),this.provicneName=this.province.province,console.info("aqui vamos",this.provicneName),this.roles=r.content,"ROLE_ADMIN"===r.toString()&&(this.edit=!1),"ROLE_USER"===r.toString()&&(this.edit=!0)})})}newIssuing(e,i){i&&sessionStorage.setItem("editIssuing",String(e)),i||sessionStorage.setItem("newIssuing",String(e)),this.router.navigate(["/issuing/newIssuing"])}}return s.\u0275fac=function(e){return new(e||s)(t.Y36(A),t.Y36(v.e8),t.Y36(p.F0))},s.\u0275cmp=t.Xpm({type:s,selectors:[["app-issuing"]],decls:38,vars:10,consts:[[1,"card","mb-10"],[1,"card-body","d-flex","align-items-center","py-8"],[1,"d-flex","h-80px","w-80px","flex-shrink-0","flex-center","position-relative"],["src","assets/media/icons/duotune/finance/fin001.svg",1,"h-40px","me-10"],[1,"ms-6"],[1,"list-unstyled","text-gray-600","fw-bold","fs-6","p-0","m-0"],[1,"card","card-custom"],[1,"card-header","card-header-stretch","overflow-auto"],[1,"card-header","border-0","pt-5"],[1,"card-title","align-items-start","flex-column"],[1,"card-label","fw-bolder","fs-3","mb-1"],[1,"text-muted","mt-1","fw-bold","fs-7"],[1,"card-toolbar"],["data-kt-menu-flip","top-end","data-kt-menu-placement","bottom-end","data-kt-menu-trigger","click","type","button",1,"btn","btn-sm","btn-icon","btn-color-primary","btn-active-light-primary"],[1,"svg-icon","svg-icon-2",3,"inlineSVG"],[1,"card-body","py-3"],[1,"table-responsive"],[1,"table","align-middle","gs-0","gy-4"],[1,"fw-bolder","text-muted","bg-light"],[1,"min-w-200px"],[1,"min-w-100px"],[1,"min-w-125px"],[1,"min-w-50px"],[4,"ngFor","ngForOf"],["showFirstLastButtons","","aria-label","Select page",1,"pagination",3,"length","pageIndex","pageSizeOptions","pageSize","page"],[1,"d-flex","align-items-center"],[1,"symbol","symbol-50px","me-5"],[1,"symbol-label","bg-light"],["alt","","src","./assets/media/svg/avatars/001-boy.svg",1,"h-75","align-self-end"],[1,"d-flex","justify-content-start","flex-column"],[1,"text-dark","fw-bolder","text-hover-primary","mb-1","fs-6",3,"click"],[1,"text-muted","fw-bold","text-muted","d-block","fs-7"],[1,"text-dark","fw-bolder","text-hover-primary","d-block","mb-1","fs-6",3,"click"],[1,"btn","btn-bg-light","btn-color-muted","btn-active-color-primary","btn-sm","px-4","me-2",3,"click"],[1,"btn","btn-bg-light","btn-color-muted","btn-active-color-primary","btn-sm","px-4",3,"click"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t._UZ(3,"img",3),t.qZA(),t.TgZ(4,"div",4)(5,"p",5),t._uU(6),t.ALo(7,"translate"),t.qZA()()()(),t.TgZ(8,"div",6)(9,"div",7)(10,"div",8)(11,"h3",9)(12,"span",10),t._uU(13,"Listado de Empresas"),t.qZA(),t.TgZ(14,"span",11),t._uU(15,"Accesibles por este usuario"),t.qZA()(),t.TgZ(16,"div",12)(17,"button",13),t._UZ(18,"span",14),t.qZA(),t._UZ(19,"app-dropdown-menu2"),t.qZA()(),t.TgZ(20,"div",15)(21,"div",16)(22,"table",17)(23,"thead")(24,"tr",18)(25,"th",19),t._uU(26,"Nombre"),t.qZA(),t.TgZ(27,"th",20),t._uU(28,"Contacto"),t.qZA(),t.TgZ(29,"th",21),t._uU(30,"Identification"),t.qZA(),t.TgZ(31,"th",21),t._uU(32,"Direction"),t.qZA(),t.TgZ(33,"th",22),t._uU(34,"Acciones"),t.qZA()()(),t.TgZ(35,"tbody"),t.YNc(36,C,31,8,"tr",23),t.qZA()(),t.TgZ(37,"mat-paginator",24),t.NdJ("page",function(a){return i.paginator(a)}),t.qZA()()()()()),2&e&&(t.xp6(6),t.hij(" ",t.lcZ(7,7,"ISSUING.ISSUING.TITTLE")," "),t.xp6(12),t.Q6J("inlineSVG","./assets/media/icons/duotune/general/gen024.svg"),t.xp6(18),t.Q6J("ngForOf",i.issuings),t.xp6(1),t.Q6J("length",i.totalRegister)("pageIndex",i.pageNo)("pageSizeOptions",t.DdM(9,w))("pageSize",i.pageSize))},dependencies:[n.sg,_.w,f.d$,x.NW,T.X$],styles:[".margin-left[_ngcontent-%COMP%]{margin-left:80px!important}.example-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;min-width:300px}.example-header[_ngcontent-%COMP%]{min-height:64px;padding:8px 24px 0}.mat-form-field[_ngcontent-%COMP%]{font-size:14px;width:100%}.mat-table[_ngcontent-%COMP%]{overflow:auto;max-height:500px}"]}),s})();var S=o(7292);let U=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.oAB({type:s}),s.\u0275inj=t.cJS({imports:[n.ez,p.Bz.forChild([{path:"",component:y}]),l.HB,S.q,l.QX,f.vi,x.TU]}),s})()}}]);